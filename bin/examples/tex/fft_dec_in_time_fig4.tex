\documentclass [tikz] {standalone}

%common figure styles
\input{fig_header.tex}

\begin {document}
		
		
\begin{tikzpicture}


%\draw[thin,gray,dashed,fill=vlgreen] (1.125, 0.5) rectangle (11.75, -3.4);		
%\draw[thin,gray,dashed,fill=vlgreen] (1.125,-3.6) rectangle (11.75, -7.5);	
%
%
%\draw[thin,gray, dashed,fill=vlyellow] (3.25, 0.3) rectangle (5.75, -1.3);		
%\draw[thin,gray,dashed,fill=vlyellow] (3.25,-1.7) rectangle (5.75, -3.3);	
%\draw[thin,gray,dashed,fill=vlyellow] (3.25, -3.7) rectangle (5.75, -5.3);		
%\draw[thin,gray,dashed,fill=vlyellow] (3.25,-5.7) rectangle (5.75, -7.3);	

\node(s00) at (-1.5, 0)  [none] {$s(0)$};
\node(s01) at (-1.5, -1) [none] {$s(1)$};
\node(s02) at (-1.5, -2) [none] {$s(2)$};
\node(s03) at (-1.5, -3) [none] {$s(3)$};
\node(s04) at (-1.5, -4) [none] {$s(4)$};
\node(s05) at (-1.5, -5) [none] {$s(5)$};
\node(s06) at (-1.5, -6) [none] {$s(6)$};
\node(s07) at (-1.5, -7) [none] {$s(7)$};


\node(s10) at (0.5, 0)  [none] {$s(0)$};
\node(s11) at (0.5, -1) [none] {$s(2)$};
\node(s12) at (0.5, -2) [none] {$s(4)$};
\node(s13) at (0.5, -3) [none] {$s(6)$};
\node(s20) at (0.5, -4) [none] {$s(1)$};
\node(s21) at (0.5, -5) [none] {$s(3)$};
\node(s22) at (0.5, -6) [none] {$s(5)$};
\node(s23) at (0.5, -7) [none] {$s(7)$};

\draw[->] (s00.east) -- (s10.west);
\draw[->] (s02.east) -- (s11.west);
\draw[->] (s04.east) -- (s12.west);
\draw[->] (s06.east) -- (s13.west);


\draw[->] (s01.east) -- (s20.west);
\draw[->] (s03.east) -- (s21.west);
\draw[->] (s05.east) -- (s22.west);
\draw[->] (s07.east) -- (s23.west);


\node(s30) at (2.5, 0)  [none] {$s(0)$};
\node(s31) at (2.5, -1) [none] {$s(4)$};
\node(s40) at (2.5, -2) [none] {$s(2)$};
\node(s41) at (2.5, -3) [none] {$s(6)$};
\node(s50) at (2.5, -4) [none] {$s(1)$};
\node(s51) at (2.5, -5) [none] {$s(5)$};
\node(s60) at (2.5, -6) [none] {$s(3)$};
\node(s61) at (2.5, -7) [none] {$s(7)$};

\draw[->] (s10.east)  -- (s30.west);
\draw[->] (s12.east) -- (s31.west);

\draw[->] (s11.east) -- (s40.west);
\draw[->] (s13.east) -- (s41.west);

\draw[->] (s20.east) -- (s50.west);
\draw[->] (s22.east) -- (s51.west);

\draw[->] (s21.east) -- (s60.west);
\draw[->] (s23.east) -- (s61.west);


\node(x000) at (5.5, 0) [pnt] {};
\node(x001) at (5.5, -1) [pnt] {};
\node(x010) at (5.5, -2) [pnt] {};
\node(x011) at (5.5, -3) [pnt] {};
\node(x020) at (5.5, -4) [pnt] {};
\node(x021) at (5.5, -5) [pnt] {};
\node(x030) at (5.5, -6) [pnt] {};
\node(x031) at (5.5, -7) [pnt] {};

\node(z000) at (6, 0)  [none, right] {$S_{00}(0)$};
\node(z001) at (6, -1) [none, right] {$S_{00}(1)$};
\node(z010) at (6, -2) [none, right] {$S_{01}(0)$};
\node(z011) at (6, -3) [none, right] {$S_{01}(1)$};
\node(z020) at (6, -4) [none, right] {$S_{02}(0)$};
\node(z021) at (6, -5) [none, right] {$S_{02}(1)$};
\node(z030) at (6, -6) [none, right] {$S_{03}(0)$};
\node(z031) at (6, -7) [none, right] {$S_{03}(1)$};


\draw[->] (x000) -- (z000);
\draw[->] (x001) -- (z001);
\draw[->] (x010) -- (z010);
\draw[->] (x011) -- (z011);
\draw[->] (x020) -- (z020);
\draw[->] (x021) -- (z021);
\draw[->] (x030) -- (z030);
\draw[->] (x031) -- (z031);


\draw[->,blue] (s30.east) -- (x000);
\draw[->,red] (s31.east)  -- (x001);
\draw[->,blue] (4,0) -- (x001);
\draw[->,red] (4,-1) node[above left]{$W_2^0$} -- (x000);


\draw[->,blue] (s40.east) -- (x010);
\draw[->,red] (s41.east) -- (x011);
\draw[->,blue] (4,-2) -- (x011);
\draw[->,red] (4,-3) node[above left]{$W_2^0$} -- (x010);


\draw[->,blue] (s50.east) -- (x020);
\draw[->,red] (s51.east) -- (x021);
\draw[->,blue] (4,-4) -- (x021);
\draw[->,red] (4,-5) node[above left]{$W_2^0$}  -- (x020);


\draw[->,blue] (s60.east) -- (x030);
\draw[->,red] (s61.east)-- (x031);
\draw[->,blue] (4,-6) -- (x031);
\draw[->,red] (4,-7) node[above left]{$W_2^0$} -- (x030);


\node(x100) at (10, 0) [pnt] {};
\node(x101) at (10, -1) [pnt] {};
\node(x102) at (10, -2) [pnt] {};
\node(x103) at (10, -3) [pnt] {};
\node(x110) at (10, -4) [pnt] {};
\node(x111) at (10, -5) [pnt] {};
\node(x112) at (10, -6) [pnt] {};
\node(x113) at (10, -7) [pnt] {};

\node(z100) at (10.5, 0)  [none, right] {$S_{10}(0)$};
\node(z101) at (10.5, -1) [none, right] {$S_{10}(1)$};
\node(z102) at (10.5, -2) [none, right] {$S_{10}(2)$};
\node(z103) at (10.5, -3) [none, right] {$S_{10}(3)$};
\node(z110) at (10.5, -4) [none, right] {$S_{11}(0)$};
\node(z111) at (10.5, -5) [none, right] {$S_{11}(1)$};
\node(z112) at (10.5, -6) [none, right] {$S_{11}(2)$};
\node(z113) at (10.5, -7) [none, right] {$S_{11}(3)$};


\draw[->] (x100) -- (z100);
\draw[->] (x101) -- (z101);
\draw[->] (x102) -- (z102);
\draw[->] (x103) -- (z103);
\draw[->] (x110) -- (z110);
\draw[->] (x111) -- (z111);
\draw[->] (x112) -- (z112);
\draw[->] (x113) -- (z113);





\draw[->,blue] (z000)--(x100);
\draw[->,blue] (z001)--(x101);
\draw[->,blue] (8, 0)  -- (x102);
\draw[->,blue] (8, -1) -- (x103);

\draw[->,red] (z010.east) node[above right]{$W_4^0$} --(x102);
\draw[->,red] (z011.east) node[above right]{$W_4^1$}--(x103);
\draw[->,red] (8, -2)  -- (x100);
\draw[->,red] (8, -3) -- (x101);

\draw[->,blue] (z020)--(x110);
\draw[->,blue] (z021)--(x111);
\draw[->,blue] (8, -4)  -- (x112);
\draw[->,blue] (8, -5) -- (x113);

\draw[->,red] (z030.east) node[above right]{$W_4^0$}--(x112);
\draw[->,red] (z031.east) node[above right]{$W_4^1$}--(x113);
\draw[->,red] (8, -6)  -- (x110);
\draw[->,red] (8, -7) -- (x111);



\node(x200) at (14, 0)  [pnt] {};
\node(x201) at (14, -1) [pnt] {};
\node(x202) at (14, -2) [pnt] {};
\node(x203) at (14, -3) [pnt] {};
\node(x204) at (14, -4) [pnt] {};
\node(x205) at (14, -5) [pnt] {};
\node(x206) at (14, -6) [pnt] {};
\node(x207) at (14, -7) [pnt] {};


\node(z200) at (14.5, 0)  [none, right] {$S(0)$};
\node(z201) at (14.5, -1) [none, right] {$S(1)$};
\node(z202) at (14.5, -2) [none, right] {$S(2)$};
\node(z203) at (14.5, -3) [none, right] {$S(3)$};
\node(z204) at (14.5, -4) [none, right] {$S(4)$};
\node(z205) at (14.5, -5) [none, right] {$S(5)$};
\node(z206) at (14.5, -6) [none, right] {$S(6)$};
\node(z207) at (14.5, -7) [none, right] {$S(7)$};

\draw[->] (x200) -- (z200);
\draw[->] (x201) -- (z201);
\draw[->] (x202) -- (z202);
\draw[->] (x203) -- (z203);
\draw[->] (x204) -- (z204);
\draw[->] (x205) -- (z205);
\draw[->] (x206) -- (z206);
\draw[->] (x207) -- (z207);




\draw[->,blue] (z100) -- (x200);
\draw[->,blue] (z101) -- (x201);
\draw[->,blue] (z102) -- (x202);
\draw[->,blue] (z103) -- (x203);
\draw[->,blue] (12.5, 0) -- (x204);
\draw[->,blue] (12.5, -1) -- (x205);
\draw[->,blue] (12.5, -2) -- (x206);
\draw[->,blue] (12.5, -3) -- (x207);


\draw[->,red] (z110.east) node[above right]{$W_8^0$} -- (x204);
\draw[->,red] (z111.east) node[above right]{$W_8^1$} -- (x205);
\draw[->,red] (z112.east) node[above right]{$W_8^2$} -- (x206);
\draw[->,red] (z113.east) node[above right]{$W_8^3$} -- (x207);
\draw[->,red] (12.5, -4) -- (x200);
\draw[->,red] (12.5, -5) -- (x201);
\draw[->,red] (12.5, -6) -- (x202);
\draw[->,red] (12.5, -7) -- (x203);


\foreach \z in {0, 1, ...,3}
{ 	
	\draw[blue] node at (4,-\z*2) {\textbullet} ;
	\draw[red] node at (4,-\z*2-1) {\textbullet} ;
	\draw[blue] node at (12.5,-\z) {\textbullet} ;
	\draw[red] node at (12.5,-\z-4) {\textbullet} ;
		
}


\foreach \z in {0, 1}
{ 	
	\draw[blue] node at (8,-\z) {\textbullet} ;
	\draw[red] node at (8,-\z-2) {\textbullet} ;
	\draw[blue] node at (8,-\z-4) {\textbullet} ;
	\draw[red] node at (8,-\z-6) {\textbullet} ;
	
}	
	
	
	
	
\end{tikzpicture}
\end {document}
		
%		\caption{Граф алгоритма БПФ для $N=8$ }\label{fft_dec_in_time:fig3}
%	\end{center}
%\end{figure}